workload: Transaction
operation: complex-read
number: 11
title: Final share analysis in investor relationship
description: |
  Given a *Company*, find all the *Companies* and *Persons* the *Company*
  invests by at most k steps. Then calculate the final share ratio of the
  investors to the given company groupby the investor in descending order.
  Final share ratio means the final share of each investor in the company
parameters:
  - name: id
    type: ID
    description: id of the Company
  - name: k
    type: 32-bit Integer
    description: the distance in the investing relationship
result:
  - name: ratio
    type: 32-bit float
groupby: investor
sort:
  - name: finalShare
    direction: desc
choke_points: [1.1, 6.2, 7.11]
relevance: |
  This is a typical company invest relationship analysis.
