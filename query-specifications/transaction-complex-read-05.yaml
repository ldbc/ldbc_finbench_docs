workload: Transaction
operation: complex-read
number: 5
title: Exact Account Transfer Trace
description: |
  Given a *Person* and a specified time window between *start_time* and
  *end_time*, find the transfer trace from the account(*src*) owned by the
  *Person* to another account(*dst*) by at most 3 steps. Note that the transfer
  trace(*edge2*) are in ascending order in terms of timestamp. Return all the
  transfer traces.
parameters:
  - name: id
    type: ID
    description: id of the start Person
  - name: start_time
    type: DateTime
    description: begin of the time window
  - name: end_time
    type: DateTime
    description: end of the time window
  - name: truncation_limit
    type: 32-bit Integer
    description: maximum edges traversed at each step
  - name: truncation_order
    type: enum
    description: the sort order before truncation at each step
result:
  - name: path
    type: Path
    description: the transfer traces
    category: structural
sort:
  - name: pathLength
    direction: desc
limit: 0
choke_points: [1.1, 3.2, 3.4, 6.2, 7.1, 7.4, 8.7, 8.8]
relevance: |
  This query is a typical fund transfer trace case in risk control.
